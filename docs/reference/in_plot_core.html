<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Core Internal Plotting Function — in_plot_core • WPD</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Core Internal Plotting Function — in_plot_core"><meta name="description" content="Internal function that handles the common plotting functionality across all plot types.
This function manages the overall plot creation process, including data preprocessing,
plot type selection, panel creation, legend handling, and output management."><meta property="og:description" content="Internal function that handles the common plotting functionality across all plot types.
This function manages the overall plot creation process, including data preprocessing,
plot type selection, panel creation, legend handling, and output management."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">WPD</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.13</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/benjaminpeeters/WPD/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Core Internal Plotting Function</h1>
      <small class="dont-index">Source: <a href="https://github.com/benjaminpeeters/WPD/blob/HEAD/R/wp_plot_core_processing.r" class="external-link"><code>R/wp_plot_core_processing.r</code></a></small>
      <div class="d-none name"><code>in_plot_core.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Internal function that handles the common plotting functionality across all plot types.
This function manages the overall plot creation process, including data preprocessing,
plot type selection, panel creation, legend handling, and output management.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">in_plot_core</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  y_axis <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  plot_type <span class="op">=</span> <span class="st">"series"</span>,</span>
<span>  filename <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  print <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  legend <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  reference <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  title <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  subtitle <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  subfig_title <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  debug <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  size <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  base_size <span class="op">=</span> <span class="fl">16</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>data.frame that must contain the following columns:
- ISO: ISO 3-letter country codes
- Date: dates in Date format
- Variable: indicator names
- Value: numeric values
- Country: country names (optional, auto-generated from ISO if missing)
- Reference: source citations (optional)</p></dd>


<dt id="arg-y-axis">y_axis<a class="anchor" aria-label="anchor" href="#arg-y-axis"></a></dt>
<dd><p>string/vector/TRUE/FALSE/NULL; axis labels configuration</p></dd>


<dt id="arg-plot-type">plot_type<a class="anchor" aria-label="anchor" href="#arg-plot-type"></a></dt>
<dd><p>string; type of plot to create:
- "series": time series plot
- "bar": bar plot
- "scatter": scatter plot</p></dd>


<dt id="arg-filename">filename<a class="anchor" aria-label="anchor" href="#arg-filename"></a></dt>
<dd><p>string/NULL; output filename without extension:
- If provided, saves plot as PNG and PDF
- NULL for no file output</p></dd>


<dt id="arg-print">print<a class="anchor" aria-label="anchor" href="#arg-print"></a></dt>
<dd><p>logical; whether to display the plot</p></dd>


<dt id="arg-legend">legend<a class="anchor" aria-label="anchor" href="#arg-legend"></a></dt>
<dd><p>logical; whether to include legend panel</p></dd>


<dt id="arg-reference">reference<a class="anchor" aria-label="anchor" href="#arg-reference"></a></dt>
<dd><p>logical; whether to include references panel</p></dd>


<dt id="arg-title">title<a class="anchor" aria-label="anchor" href="#arg-title"></a></dt>
<dd><p>string/NULL; main title text</p></dd>


<dt id="arg-subtitle">subtitle<a class="anchor" aria-label="anchor" href="#arg-subtitle"></a></dt>
<dd><p>string/NULL; subtitle text</p></dd>


<dt id="arg-subfig-title">subfig_title<a class="anchor" aria-label="anchor" href="#arg-subfig-title"></a></dt>
<dd><p>logical/character; control subplot titles:
- TRUE: auto-generate titles
- Character vector: custom titles
- FALSE: no titles</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>logical; control information messages</p></dd>


<dt id="arg-debug">debug<a class="anchor" aria-label="anchor" href="#arg-debug"></a></dt>
<dd><p>logical; control debugging output</p></dd>


<dt id="arg-size">size<a class="anchor" aria-label="anchor" href="#arg-size"></a></dt>
<dd><p>numeric/NULL; plot size preset:
- 1: small (10x7 inches)
- 2: medium (15x7 inches)
- 3: large (15x10 inches)
- 4: extra large (20x10 inches)
- NULL: auto-size based on data</p></dd>


<dt id="arg-base-size">base_size<a class="anchor" aria-label="anchor" href="#arg-base-size"></a></dt>
<dd><p>numeric; base font size in points</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments passed to specific plotting functions</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>ggplot2 object containing the complete plot</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function serves as the central coordinator for all plotting operations:</p><ol><li><p>Data Preprocessing:</p><ul><li><p>Validates and normalizes input data</p></li>
<li><p>Converts dates to proper format</p></li>
<li><p>Handles missing/optional columns</p></li>
</ul></li>
<li><p>Plot Type Selection:</p><ul><li><p>Determines appropriate plotting function based on plot_type and data structure</p></li>
<li><p>Filters and validates type-specific arguments</p></li>
</ul></li>
<li><p>Panel Management:</p><ul><li><p>Creates main plot panel</p></li>
<li><p>Adds legend panel if requested</p></li>
<li><p>Adds references panel if requested</p></li>
<li><p>Manages panel layout and dimensions</p></li>
</ul></li>
<li><p>Output Handling:</p><ul><li><p>Controls plot display</p></li>
<li><p>Manages file output in multiple formats</p></li>
<li><p>Handles plot dimensions</p></li>
</ul></li>
</ol><p>The function maintains consistent styling and behavior across all plot types
while allowing for type-specific customizations through the ... argument.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>This is an internal function not meant to be called directly by users.
Use the public wp_plot_* functions instead.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="wp_plot_series.html">wp_plot_series</a></code>
<code><a href="wp_plot_bar.html">wp_plot_bar</a></code>
<code><a href="wp_plot_scatter.html">wp_plot_scatter</a></code></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Benjamin Peeters.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

