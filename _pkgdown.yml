url: https://benjaminpeeters.github.io/WPD

template:
  bootstrap: 5
  params:
    bootswatch: flatly
  includes:
    in_header: |
      <!-- Dark Mode Implementation -->
      <!-- Cookie Functions -->
      <script>
        function setCookie(name, value, days) {
          var expires = "";
          if (days) {
            var date = new Date();
            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
            expires = "; expires=" + date.toUTCString();
          }
          document.cookie = name + "=" + (value || "") + expires + "; path=/";
        }

        function getCookie(name) {
          var nameEQ = name + "=";
          var ca = document.cookie.split(';');
          for(var i = 0; i < ca.length; i++) {
            var c = ca[i];
            while (c.charAt(0) == ' ') c = c.substring(1, c.length);
            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);
          }
          return null;
        }

        // Initial dark mode check
        (function() {
          if (getCookie('darkMode') === 'true') {
            document.documentElement.classList.add('dark-mode');
            document.documentElement.style.backgroundColor = '#1a1a1a';
            document.documentElement.style.color = '#e6e6e6';
          }
        })();

        // Dark mode toggle setup
        document.addEventListener('DOMContentLoaded', function() {
          const button = document.createElement('button');
          button.className = 'dark-mode-toggle';
          button.setAttribute('aria-label', 'Toggle dark mode');
          
          function updateButtonIcon() {
            const isDark = document.documentElement.classList.contains('dark-mode');
            button.innerHTML = isDark ? 'â˜€ï¸' : 'ðŸŒ’';
            button.title = isDark ? 'Switch to light mode' : 'Switch to dark mode';
          }

          button.onclick = function() {
            const isDark = !document.documentElement.classList.contains('dark-mode');
            if (isDark) {
              document.documentElement.classList.add('dark-mode');
            } else {
              document.documentElement.classList.remove('dark-mode');
            }
            setCookie('darkMode', isDark, 365);
            updateButtonIcon();
          };

          updateButtonIcon();
          document.body.appendChild(button);
        });
      </script>

      <!-- Dark Mode Styles -->
      <style>
        .dark-mode-toggle {
          position: fixed;
          bottom: 20px;
          right: 20px;
          z-index: 999;
          padding: 10px;
          border-radius: 50%;
          border: none;
          background: #333;
          color: white;
          cursor: pointer;
          width: 45px;
          height: 45px;
          display: flex;
          align-items: center;
          justify-content: center;
          box-shadow: 0 2px 5px rgba(0,0,0,0.2);
          font-size: 20px;
        }

        .dark-mode-toggle:hover {
          background: #444;
        }

        .dark-mode {
          --bs-body-bg: #1a1a1a !important;
          --bs-body-color: #e6e6e6 !important;
          --bs-link-color: #7cb7ff !important;
        }

        .dark-mode body {
          background-color: #1a1a1a !important;
          color: #e6e6e6 !important;
        }

        .dark-mode .navbar {
          background-color: #2d2d2d !important;
        }

        .dark-mode footer, 
        .dark-mode .authors,
        .dark-mode .footer small,
        .dark-mode .developer,
        .dark-mode .roles,
        .dark-mode [class^="developers"],
        .dark-mode .citation small {
          color: #e6e6e6 !important;
        }

        .dark-mode .roles li {
          color: #e6e6e6 !important;
          background-color: #2d2d2d !important;
        }

        .dark-mode pre.sourceCode {
          background-color: #1a1a1a !important;
          border: 1px solid #2d2d2d !important;
        }
        
        .dark-mode code {
          background-color: #2d2d2d !important;
          color: #e6e6e6 !important;
        }
        
        .dark-mode pre code {
          color: #e6e6e6 !important;
        }

        .dark-mode pre:not(.sourceCode) {
          background-color: #2d2d2d !important;
          color: #e6e6e6 !important;
          border: 1px solid #3d3d3d !important;
        }
        
        .dark-mode pre code span.co { color: #6a9955 !important; }
        .dark-mode pre code span.st { color: #ce9178 !important; }
        .dark-mode pre code span.dv { color: #b5cea8 !important; }
        .dark-mode pre code span.kw { color: #569cd6 !important; }
        .dark-mode pre code span.fu { color: #dcdcaa !important; }
        .dark-mode pre code span.op { color: #d4d4d4 !important; }
        .dark-mode pre code span.va { color: #9cdcfe !important; }

        .dark-mode img:not([src*=".png"]) {
          filter: invert(0.85) hue-rotate(180deg);
        }

        .dark-mode table {
          color: #e6e6e6;
          background-color: #2d2d2d;
        }

        .dark-mode .table-striped tbody tr:nth-of-type(odd) {
          background-color: #333333;
        }

        .dark-mode .text-muted,
        .dark-mode .text-secondary {
          color: #a0a0a0 !important;
        }
      </style>

navbar:
  structure:
    left: [intro, reference, articles]
    right: [search, github]
  components:
    articles:
      text: Articles
      href: articles/index.html

reference:
- title: "Package Documentation"
  desc: "Overview of the WPD package"
  contents:
    - WPD

- title: "Data Management"
  desc: "Core functions for data loading and manipulation"
  contents:
  - wp_data
  - wp_info
  
- title: "Plotting Functions"
  desc: "Main plotting functions"
  contents:
  - starts_with("wp_plot")

- title: "ISO Code Utilities"
  desc: "Country ISO3 code handling functions"
  contents:
  - starts_with("wp_iso")
  - wp_ctry2iso
  - wp_from_iso
  - wp_get_category

- title: "Internal Functions"
  desc: "Internal helper functions"
  contents:
  - starts_with("in_")

- title: "Datasets"
  desc: "Package datasets documentation"
  contents:
  - METADATA_Q
  - METADATA_Y
  - ISO_DATA
